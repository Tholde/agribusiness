{% extends 'admin/base.html' %}
{% block content %}
    {% load static %}
    <div class="relative min-h-screen group-data-[sidebar-size=sm]:min-h-[1500px]">
<script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');

            // Get events data from context
            var defaultEvents = {{ event|safe }};

            var calendar = new FullCalendar.Calendar(calendarEl, {
                timeZone: 'local',
                editable: true,
                droppable: true,
                selectable: true,
                longPressDelay: true,
                initialView: 'dayGridMonth',
                themeSystem: 'tailwindcss',
                headerToolbar: {
                    left: 'prev,next,today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
                },
                events: defaultEvents
            });
            calendar.render();
        });
    </script>
        <div class="group-data-[sidebar-size=lg]:ltr:lg:ml-vertical-menu group-data-[sidebar-size=lg]:rtl:lg:mr-vertical-menu group-data-[sidebar-size=md]:ltr:ml-vertical-menu-md group-data-[sidebar-size=md]:rtl:mr-vertical-menu-md group-data-[sidebar-size=sm]:ltr:lg:ml-vertical-menu-sm group-data-[sidebar-size=sm]:lg:rtl:mr-vertical-menu-sm pt-[calc(theme('spacing.header')_*_1)] pb-[calc(theme('spacing.header')_*_1)] px-6 group-data-[layout=horizontal]:!mx-auto group-data-[layout=horizontal]:max-w-screen-2xl  group-data-[layout=horizontal]:lg:pt-[calc(theme('spacing.header')_*_1.75)]">
            <div class="container-fluid">

                <div class="md:flex items-center justify-between pt-6 pb-5">
                    <div>
                        <h6 class="mb-0 text-16 uppercase font-semibold dark:text-white">Full Calendar</h6>
                    </div>
                    <div class="shrink-0">
                        <ul class="mb-0 flex items-center gap-4 text-[13px] mt-2 md:mt-0">
                            <li class="before:content-['/'] before:absolute ltr:before:-right-1 rtl:before:-left-2 before:text-gray-600 before:text-[9px] before:top-0 before:bottom-0 before:flex before:items-center relative pr-3 inline-block">
                                <a href="#!" class="text-gray-800 dark:text-white">Calendar</a></li>
                            <li class="text-gray-600 dark:text-zink-200">Full Calendar</li>
                        </ul>
                    </div>
                </div>
                <!-- start grid -->
                <div class="grid grid-cols-1 gap-6 mb-5 xl:grid-cols-12 ">
                    <!-- start col -->
                    <div class="grid-cols-1 xl:col-span-3">
                        <div class="card dark:bg-zink-700 dark:border-zink-600">
                            <div class="space-y-5 card-body ">
                                <div class="sm:flex gap-x-2">
                                    <button class="mt-2 sm:mt-0 w-full sm:w-full text-13 h-9 text-white bg-green-500 border-transparent btn hover:bg-green-700"
                                            id="btn-new-event" data-tw-toggle="modal" data-tw-target="#event-modal"><i
                                            class="mdi mdi-plus-circle-outline"></i> Create
                                        New Event
                                    </button>
                                </div>
                                <div id="external-events">
                                    <p class="text-gray-600 dark:text-zink-200 text-13">Drag and drop your event or
                                        click in the calendar</p>
                                    <div class="mt-4">
                                        <div class="external-event cursor-move bg-green-500 px-4 py-2 rounded text-white my-[5px] dark:bg-green-500/20 dark:text-green-500"
                                             data-class="p-1 border-transparent bg-green-500">
                                            <i class="align-middle ltr:mr-2 rtl:ml-2 mdi mdi-checkbox-blank-circle text-11"></i>New
                                            Event Planning
                                        </div>
                                        <div class="external-event cursor-move bg-sky-500 px-4 py-2 rounded text-white my-[5px] dark:bg-sky-500/20 dark:text-sky-500"
                                             data-class="p-1 border-transparent bg-sky-500">
                                            <i class="align-middle ltr:mr-2 rtl:ml-2 mdi mdi-checkbox-blank-circle text-11"></i>Meeting
                                        </div>
                                        <div class="external-event cursor-move bg-yellow-500 px-4 py-2 rounded text-white my-[5px] dark:bg-yellow-500/20 dark:text-yellow-500"
                                             data-class="p-1 border-transparent bg-yellow-500">
                                            <i class="align-middle ltr:mr-2 rtl:ml-2 mdi mdi-checkbox-blank-circle text-11"></i>Generating
                                            Reports
                                        </div>
                                        <div class="external-event cursor-move bg-red-500 px-4 py-2 rounded text-white my-[5px] dark:bg-red-500/20 dark:text-red-500"
                                             data-class="p-1 border-transparent bg-red-500">
                                            <i class="align-middle ltr:mr-2 rtl:ml-2 mdi mdi-checkbox-blank-circle text-11"></i>Create
                                            New theme
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-12">
                                    <div class="col-span-12 mt-10">
                                    </div>
                                </div>

                                <div class="mt-5 row justify-content-center">
                                    <img src="{% static 'assets/images/verification-img.png' %}" alt=""
                                         class="block img-fluid' %}">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end col -->
                    <!-- start col -->
                    <div class="grid-cols-1 xl:col-span-9">
                        <div class="card dark:bg-zink-700 dark:border-zink-600">
                            <div class="space-y-5 card-body">
                                <div id="calendar"></div>
                            </div>
                        </div>
                    </div>
                    <!-- end col -->
                </div>
                <!-- end grid -->

                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->
            {% include 'admin/footer.html' %}
        </div>
    </div>
    <!-- end main content -->
    <div class="relative z-50 hidden modal" id="event-modal" aria-labelledby="modal-title" role="dialog"
         aria-modal="true">
        <div class="fixed inset-0 z-50 overflow-y-auto">
            <div class="absolute inset-0 transition-opacity bg-black bg-opacity-50 modal-overlay"></div>
            <div class="flex items-end justify-center min-h-full p-4 text-center sm:items-center sm:p-0">
                <div class="relative overflow-hidden text-left transition-all transform bg-white dark:bg-zink-700 rounded-lg shadow-xl sm:my-8 sm:w-full sm:max-w-lg">
                    <div class="bg-white dark:bg-zink-700">
                        <div class="flex items-center p-4 pb-0 rounded-t ">
                            <h5 class="text-16 font-medium text-gray-700 dark:text-white" id="modal-title">Add
                                Event</h5>
                            <button class="inline-flex items-center px-2 py-1 text-sm text-gray-400 border-transparent rounded-lg ltr:ml-auto rtl:mr-auto btn hover:bg-gray-50/50 hover:text-gray-900 dark:text-gray-100 dark:hover:bg-zinc-600"
                                    type="button" id="eventModal-close" data-tw-dismiss="modal">
                                <i class="text-xl text-gray-500 mdi mdi-close dark:text-zinc-100/60"></i>
                            </button>
                        </div>

                        <form class="needs-validation" method="post" action="{% url 'add_event' %}" name="event-form" id="form-event" autocomplete="off"
                              novalidate="">
                            {% csrf_token %}
                            <div class="p-6 space-y-6">
                                <div>
                                    <label for="event-title"
                                           class="block mb-2 text-13 text-gray-600 dark:text-zink-200 ">Event
                                        Name</label>
                                    <input type="text" id="event-title" name="key1"
                                           class="border text-13 border-gray-400 text-gray-700 dark:text-zink-200 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-zink-700 dark:border-zink-50 dark:placeholder-gray-300 dark:placeholder:text-zink-200 placeholder:text-13"
                                           placeholder="Insert Event Name" required="">
                                </div>

                                <div>
                                    <label for="event-title"
                                           class="block mb-2 text-13 text-gray-600 dark:text-zink-200 ">Event
                                        Start</label>
                                    <input type="date" id="event-start" name="key2"
                                           class="border text-13 border-gray-400 text-gray-700 dark:text-zink-200 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-zink-700 dark:border-zink-50 dark:placeholder-gray-300 dark:placeholder:text-zink-200 placeholder:text-13"
                                           placeholder="Insert Event Name" required="">
                                </div>
                                <div>
                                    <label for="event-title"
                                           class="block mb-2 text-13 text-gray-600 dark:text-zink-200 ">Event
                                        End</label>
                                    <input type="date" id="event-end" name="key3"
                                           class="border text-13 border-gray-400 text-gray-700 dark:text-zink-200 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-zink-700 dark:border-zink-50 dark:placeholder-gray-300 dark:placeholder:text-zink-200 placeholder:text-13"
                                           placeholder="Insert Event Name" required="">
                                </div>
                                <div>
                                    <label for="event-category"
                                           class="block mb-2 text-13 text-gray-600 dark:text-zink-200 ">Category</label>
                                    <select type="text" id="event-category" name="key4"
                                            class="border text-13 border-gray-400 text-gray-700 dark:text-zink-200 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-zink-700 dark:border-zink-50 dark:placeholder-gray-300 dark:placeholder:text-zink-200 placeholder:text-13"
                                            required="">
                                        <option selected=""> --Select--</option>
                                        <option value="p-1 text-white bg-red-500">Danger</option>
                                        <option value="p-1 text-white bg-green-500">Success</option>
                                        <option value="p-1 text-white bg-violet-500">Primary</option>
                                        <option value="p-1 text-white bg-sky-500">Info</option>
                                        <option value="p-1 text-white bg-zinc-800">Dark</option>
                                        <option value="p-1 text-white bg-yellow-500">Warning</option>
                                    </select>
                                </div>
                            </div>

                            <div class="px-4 pb-6 sm:flex sm:px-6 ">
                                <button type="button"
                                        class="inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-red-500 border border-transparent rounded-md shadow-sm btn hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 sm:w-auto sm:text-sm dark:focus:ring-red-500/30"
                                        id="btn-delete-event">Delete
                                </button>
                                <button type="button"
                                        class="inline-flex justify-center w-full px-4 py-2 mt-3 ml-auto text-base font-medium text-gray-700 bg-gray-50 border border-gray-300 rounded-md shadow-sm btn dark:text-gray-100 hover:bg-gray-50/50 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm dark:bg-transparent dark:bg-zink-50 dark:border-transparent"
                                        data-tw-dismiss="modal">Cancel
                                </button>
                                <button type="submit"
                                        class="inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-green-500 border border-transparent rounded-md shadow-sm btn hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm dark:focus:ring-green-500/30"
                                        id="btn-save-event">Save
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'assets/libs/fullcalendar/index.global.min.js' %}"></script>

{#    <script src="{% static 'assets/js/pages/calendars-full.init.js' %}"></script>#}
    <!-- calendar init -->


{% endblock %}